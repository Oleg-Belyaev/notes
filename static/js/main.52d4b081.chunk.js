(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],{24:function(e,t,n){},25:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(0),c=n.n(a),s=n(17),i=n.n(s),r=n(10),u=(n(24),n(8)),l=n(6),j=n(2);n(25);var p=function(e){var t=c.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],i=c.a.useState(""),u=Object(l.a)(i,2),j=u[0],p=u[1],d=c.a.useState(!1),m=Object(l.a)(d,2),h=m[0],f=m[1],b=c.a.useState(!1),_=Object(l.a)(b,2),O=_[0],x=_[1];return Object(o.jsx)("main",{className:"main",children:Object(o.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),function(e,t){return fetch("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=".concat("AIzaSyCBQIQgMI_GWopOMbTM3nSmWMmXoy_a1_g"),{method:"POST",body:JSON.stringify({email:e,password:t,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(e){return e.idToken}))}(a,j).then((function(t){e.onAuth(t),s(""),p(""),f(!0),x(!1)})).catch((function(){x(!0)}))},children:[Object(o.jsx)("h2",{className:"form__title",children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"}),Object(o.jsx)("h3",{className:"form__error ".concat(O&&"form__error_active"),children:"\u041d\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 e-mail \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"}),Object(o.jsxs)("fieldset",{className:"form__input-container ".concat(h&&"form__input-container_inactive"),children:[Object(o.jsxs)("div",{className:"form__field",children:[Object(o.jsx)("label",{htmlFor:"email",className:"form__label",children:"E-mail"}),Object(o.jsx)("input",{type:"email",className:"form__input",id:"email",placeholder:"example@mail.com",value:a,onChange:function(e){s(e.target.value)},required:!0})]}),Object(o.jsxs)("div",{className:"form__field",children:[Object(o.jsx)("label",{htmlFor:"password",className:"form__label",children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),Object(o.jsx)("input",{type:"password",className:"form__input",id:"password",minLength:"8",maxLength:"25",placeholder:"12345678",value:j,onChange:function(e){p(e.target.value)},required:!0})]}),Object(o.jsx)("button",{type:"submit",className:"form__submit ".concat(h&&"form__submit_inactive"),value:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}),Object(o.jsx)(r.b,{type:"button",className:"form__button ".concat(!h&&"form__button_inactive"),value:"\u0412\u043e\u0439\u0442\u0438",to:"/notes",children:" \u0412\u043e\u0439\u0442\u0438 "})]})]})})};n(31);var d=function(e){return Object(o.jsxs)("header",{className:"header",children:[Object(o.jsx)("h1",{className:"header__title",children:"\u041c\u043e\u0438 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"}),Object(o.jsx)("button",{type:"button",className:"header__button ".concat(e.token&&"header__button_active"),onClick:e.onAddNotes})]})};n(32);var m=function(e){return Object(o.jsxs)("li",{className:"note",children:[Object(o.jsxs)("div",{className:"note__content",children:[Object(o.jsx)("h2",{className:"note__title",children:e.name}),Object(o.jsx)("p",{className:"note__data",children:"\u0417\u0430\u043c\u0435\u0442\u043a\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0430: \n          ".concat(new Date(e.data).toLocaleDateString(),"\n          ").concat(new Date(e.data).toLocaleTimeString(),". \u0421 \u043c\u043e\u043c\u0435\u043d\u0442\u0430 \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0448\u043b\u043e: ").concat(function(e){var t=(e/1e3).toFixed(),n=Math.floor(t/60),o="";return n>59&&(n-=60*(o=Math.floor(n/60))),t=Math.floor(t%60),""!==o?o+(o<5?" \u0447\u0430\u0441\u0430 ":" \u0447\u0430\u0441\u043e\u0432 ")+n+(n<5?" \u043c\u0438\u043d\u0443\u0442\u044b ":" \u043c\u0438\u043d\u0443\u0442 ")+t+(t<5?" \u0441\u0435\u043a\u0443\u043d\u0434\u044b":" \u0441\u0435\u043a\u0443\u043d\u0434"):n+" \u043c\u0438\u043d\u0443\u0442 "+t+" \u0441\u0435\u043a\u0443\u043d\u0434"}(Date.now()-Date.parse(e.data)))}),Object(o.jsx)("p",{className:"note__description",children:e.description})]}),Object(o.jsx)("button",{className:"note__delete",type:"button",onClick:function(){e.onNoteDelete(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})};n(33);var h=function(e){return Object(o.jsx)("ul",{className:"notes main__notes",children:0===e.notes.length?Object(o.jsx)("p",{children:"\u0417\u0430\u043c\u0435\u0442\u043e\u043a \u043d\u0435\u0442"}):e.notes.map((function(t){return Object(a.createElement)(m,Object(u.a)(Object(u.a)({},t),{},{key:t.id,onNoteDelete:e.onNoteDelete,token:e.token}))}))})};n(34);var f=function(e){var t=c.a.useState(""),n=Object(l.a)(t,2),a=n[0],s=n[1],i=c.a.useState(""),r=Object(l.a)(i,2),u=r[0],j=r[1];return Object(o.jsxs)("section",{className:"popup ".concat(e.isOpen&&"popup_opened"),children:[Object(o.jsx)("div",{className:"popup__overlay",onClick:e.onClose}),Object(o.jsxs)("form",{className:"popup__container",name:"notes",onSubmit:function(t){t.preventDefault(),e.onAddNotes({name:a,description:u,data:new Date,token:e.token}),s(""),j("")},children:[Object(o.jsx)("button",{className:"popup__close",type:"button",onClick:e.onClose}),Object(o.jsx)("h2",{className:"popup__title",children:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0437\u0430\u043c\u0435\u0442\u043a\u0438"}),Object(o.jsxs)("fieldset",{className:"popup__input-container",children:[Object(o.jsx)("div",{className:"popup__field",children:Object(o.jsx)("input",{type:"text",className:"popup__item",name:"name",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"40",value:a,onChange:function(e){s(e.target.value)}})}),Object(o.jsx)("div",{className:"popup__field",children:Object(o.jsx)("input",{type:"text",className:"popup__item",name:"description",placeholder:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",required:!0,minLength:"2",maxLength:"500",value:u,onChange:function(e){j(e.target.value)}})}),Object(o.jsx)("button",{type:"submit",className:"popup__submit",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]})]})]})};n(35);var b=function(){var e=c.a.useState(!1),t=Object(l.a)(e,2),n=t[0],a=t[1],s=c.a.useState([]),i=Object(l.a)(s,2),r=i[0],m=i[1],b=c.a.useState(""),_=Object(l.a)(b,2),O=_[0],x=_[1];function N(){a(!1)}return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(d,{onAddNotes:function(){a(!0)},token:O}),Object(o.jsxs)(j.c,{children:[Object(o.jsx)(j.a,{exact:!0,path:"/",children:Object(o.jsx)(p,{onAuth:function(e){return x(e),console.log(e),fetch("https://my-notes-app-f475f-default-rtdb.firebaseio.com/notes.json?auth=".concat(e),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(e){if(null!==e){var t=Object.keys(e).map((function(t){return Object(u.a)(Object(u.a)({},e[t]),{},{id:t})}));m(t)}else m([])}))}})}),Object(o.jsxs)(j.a,{exact:!0,path:"/notes",children:[Object(o.jsx)(h,{notes:r,onNoteDelete:function(e){return fetch("https://my-notes-app-f475f-default-rtdb.firebaseio.com/notes/".concat(e.id,".json?auth=").concat(e.token),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(){return fetch("https://my-notes-app-f475f-default-rtdb.firebaseio.com/notes.json?auth=".concat(e.token),{method:"GET",headers:{"Content-Type":"application/json"}})})).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(e){var t=Object.keys(e).map((function(t){return Object(u.a)(Object(u.a)({},e[t]),{},{id:t})}));m(t),N()})).catch((function(e){console.log(e)}))},token:O}),Object(o.jsx)(f,{isOpen:n,onClose:N,onAddNotes:function(e){return fetch("https://my-notes-app-f475f-default-rtdb.firebaseio.com/notes.json?auth=".concat(e.token),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.name,description:e.description,data:e.data})}).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(){return fetch("https://my-notes-app-f475f-default-rtdb.firebaseio.com/notes.json?auth=".concat(e.token),{method:"GET",headers:{"Content-Type":"application/json"}})})).then((function(e){return e.ok?e.json():Promise.reject("\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a: ".concat(e.status))})).then((function(e){var t=Object.keys(e).map((function(t){return Object(u.a)(Object(u.a)({},e[t]),{},{id:t})}));m(t),N()})).catch((function(e){console.log(e)}))},token:O})]})]})]})},_=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),o(e),a(e),c(e),s(e)}))};i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(r.a,{children:Object(o.jsx)(b,{})})}),document.getElementById("root")),_()}},[[36,1,2]]]);
//# sourceMappingURL=main.52d4b081.chunk.js.map